



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Guice integration for OrientDB">
      
      
        <link rel="canonical" href="https://xvik.github.io/guice-persist-orient/3.3.2/api/">
      
      
        <meta name="author" content="Vyacheslav Rusakov">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>API - Guice-persist-orient</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#api-reference" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://xvik.github.io/guice-persist-orient/3.3.2" title="Guice-persist-orient" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Guice-persist-orient
              </span>
              <span class="md-header-nav__topic">
                API
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="http://github.com/xvik/guice-persist-orient/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      guice-persist-orient
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://xvik.github.io/guice-persist-orient/3.3.2" title="Guice-persist-orient" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Guice-persist-orient
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="http://github.com/xvik/guice-persist-orient/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      guice-persist-orient
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        API
      </label>
    
    <a href="./" title="API" class="md-nav__link md-nav__link--active">
      API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transaction-manager" title="Transaction manager" class="md-nav__link">
    Transaction manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection-provider" title="Connection provider" class="md-nav__link">
    Connection provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transaction-templates" title="Transaction templates" class="md-nav__link">
    Transaction templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-manager" title="User manager" class="md-nav__link">
    User manager
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transaction-user" title="Transaction user" class="md-nav__link">
    Transaction user
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-manager" title="Database manager" class="md-nav__link">
    Database manager
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      User guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/connections/" title="Connections" class="md-nav__link">
      Connections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/transactions/" title="Transactions" class="md-nav__link">
      Transactions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/cache/" title="Cache" class="md-nav__link">
      Cache
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Object scheme mapping
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Object scheme mapping
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/objectscheme/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/writing/" title="Writing custom annotations" class="md-nav__link">
      Writing custom annotations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Class
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Class
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/class/compositeindex/" title="@CompositeIndex" class="md-nav__link">
      @CompositeIndex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/class/compositeluceneindex/" title="@CompositeLuceneIndex" class="md-nav__link">
      @CompositeLuceneIndex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/class/dropindexes/" title="@DropIndexes" class="md-nav__link">
      @DropIndexes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/class/edge/" title="@EdgeType" class="md-nav__link">
      @EdgeType
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/class/rename/" title="@RenameFrom" class="md-nav__link">
      @RenameFrom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/class/recreate/" title="@Recreate" class="md-nav__link">
      @Recreate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/class/vertex/" title="@VertexType" class="md-nav__link">
      @VertexType
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      Property
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        Property
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/caseinsensitive/" title="@CaseInsensitive" class="md-nav__link">
      @CaseInsensitive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/fulltextindex/" title="@FulltextIndex" class="md-nav__link">
      @FulltextIndex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/" title="@Index" class="md-nav__link">
      @Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/mandatory/" title="@Mandatory" class="md-nav__link">
      @Mandatory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/luceneindex/" title="@LuceneIndex" class="md-nav__link">
      @LuceneIndex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/notnull/" title="@ONotNull" class="md-nav__link">
      @ONotNull
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/readonly/" title="@Readonly" class="md-nav__link">
      @Readonly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapping/property/renameproperty/" title="@RenameFromProperty" class="md-nav__link">
      @RenameFromProperty
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Repository
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Repository
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/commandmethods/" title="Command methods" class="md-nav__link">
      Command methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/delegatemethods/" title="Delegate methods" class="md-nav__link">
      Delegate methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/mixins/" title="Mixins" class="md-nav__link">
      Mixins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/result/" title="Result conversion" class="md-nav__link">
      Result conversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/internals/" title="Implementation details" class="md-nav__link">
      Implementation details
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/commandinternals/" title="Command implementation" class="md-nav__link">
      Command implementation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/delegateinternals/" title="Delegate implementation" class="md-nav__link">
      Delegate implementation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-9" type="checkbox" id="nav-6-9">
    
    <label class="md-nav__link" for="nav-6-9">
      Command
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-9">
        Command
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/asyncquery/" title="@AsyncQuery" class="md-nav__link">
      @AsyncQuery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/function/" title="@Function" class="md-nav__link">
      @Function
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/livequery/" title="@LiveQuery" class="md-nav__link">
      @LiveQuery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/query/" title="@Query" class="md-nav__link">
      @Query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/script/" title="@Script" class="md-nav__link">
      @Script
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-9-6" type="checkbox" id="nav-6-9-6">
    
    <label class="md-nav__link" for="nav-6-9-6">
      Params
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-9-6">
        Params
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/dynamic/" title="@DynamicParams" class="md-nav__link">
      @DynamicParams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/elvar/" title="@ElVar" class="md-nav__link">
      @ElVar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/fetchplan/" title="@FetchPlan" class="md-nav__link">
      @FetchPlan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/listen/" title="@Listen" class="md-nav__link">
      @Listen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/param/" title="@Param" class="md-nav__link">
      @Param
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/ridelvar/" title="@RidElVar" class="md-nav__link">
      @RidElVar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/pagination/" title="@Skip & @Limit" class="md-nav__link">
      @Skip & @Limit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/param/var/" title="@Var" class="md-nav__link">
      @Var
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-9-7" type="checkbox" id="nav-6-9-7">
    
    <label class="md-nav__link" for="nav-6-9-7">
      Amend
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-9-7">
        Amend
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/command/amend/timeout/" title="@Timeout" class="md-nav__link">
      @Timeout
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-10" type="checkbox" id="nav-6-10">
    
    <label class="md-nav__link" for="nav-6-10">
      Delegate
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-10">
        Delegate
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/delegate/delegate/" title="@Delegate" class="md-nav__link">
      @Delegate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-10-2" type="checkbox" id="nav-6-10-2">
    
    <label class="md-nav__link" for="nav-6-10-2">
      Params
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-10-2">
        Params
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/delegate/param/connection/" title="@Connection" class="md-nav__link">
      @Connection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/delegate/param/generic/" title="@Generic" class="md-nav__link">
      @Generic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/delegate/param/repository/" title="@Repository" class="md-nav__link">
      @Repository
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-11" type="checkbox" id="nav-6-11">
    
    <label class="md-nav__link" for="nav-6-11">
      Result
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-11">
        Result
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/result/noconvert/" title="@NoConversion" class="md-nav__link">
      @NoConversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/result/detach/" title="@DetachResult" class="md-nav__link">
      @DetachResult
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-12" type="checkbox" id="nav-6-12">
    
    <label class="md-nav__link" for="nav-6-12">
      Mixin
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-12">
        Mixin
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/mixin/doccrud/" title="DocumentCrud" class="md-nav__link">
      DocumentCrud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/mixin/objcrud/" title="ObjectCrud" class="md-nav__link">
      ObjectCrud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/mixin/objvcrud/" title="ObjectVertexCrud" class="md-nav__link">
      ObjectVertexCrud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/mixin/edges/" title="EdgesSupport" class="md-nav__link">
      EdgesSupport
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/mixin/edgetype/" title="EdgeTypeSupport" class="md-nav__link">
      EdgeTypeSupport
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repository/mixin/pagination/" title="Pagination" class="md-nav__link">
      Pagination
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/compatibility/" title="Compatibility" class="md-nav__link">
      Compatibility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/history/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transaction-manager" title="Transaction manager" class="md-nav__link">
    Transaction manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection-provider" title="Connection provider" class="md-nav__link">
    Connection provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transaction-templates" title="Transaction templates" class="md-nav__link">
    Transaction templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-manager" title="User manager" class="md-nav__link">
    User manager
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transaction-user" title="Transaction user" class="md-nav__link">
    Transaction user
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-manager" title="Database manager" class="md-nav__link">
    Database manager
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="http://github.com/xvik/guice-persist-orient/edit/master/src/doc/docs/api.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="api-reference">Api reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h1>
<div class="admonition summary">
<p>Page describes core api classes. It does not cover <a href="../mapping/objectscheme/">object mapping</a> or 
<a href="../repository/overview/">repositories</a>.</p>
</div>
<p>Core api classes are:</p>
<ul>
<li><code>TransactionManager</code> transaction (unit of work) manager </li>
<li><code>Provider&lt;connection type&gt;</code> provides thread bound connection object inside unit of work</li>
<li><code>TxTemplate&lt;connection type&gt;</code> transactional template simplifies transaction handling (used internally by <code>@Transactional</code> annotation)</li>
<li><code>SpecificTxTemplate&lt;connection type&gt;</code> special version of tx template with connection object passing to callback</li>
<li><code>UserManager</code> allows changing user outside or inside transaction</li>
<li><code>DatabaseManager</code> is responsible for lifecycle and pools initialization, may be useful only for loaded types check</li>
</ul>
<p><code>PersistentContext</code> combines all most used apis for simplified usage (no need to remember everything, just one class). It's not used internally and exist just for public usage. Could be replaced (or extended).</p>
<p>Core annotations:</p>
<ul>
<li><a href="../guide/transactions/">@Transactional</a> - defines transaction scope</li>
<li><a href="../guide/transactions/#examples">@TxType</a> - used with transaction annotation to specify transaction type</li>
<li><a href="../guide/transactions/#retry">@Retry</a> - catches and retries methods failed with orient ONeedRetryExcepion</li>
</ul>
<h2 id="transaction-manager">Transaction manager<a class="headerlink" href="#transaction-manager" title="Permanent link">&para;</a></h2>
<p>Unit of work manager. Used to start/stop/rollback transaction. Used internally by all other tx api.</p>
<p>In most cases, it shouldn't be used directly for transaction definition to avoid try-catch code and avoid possibility of not closing transaction. Use TxTemplate or SpecificTxTemplate for manual transaction execution.</p>
<p>The most useful method is current transaction check:</p>
<div class="codehilite"><pre><span></span><span class="n">transactionManager</span><span class="o">.</span><span class="na">isTransactionActive</span><span class="o">()</span>
</pre></div>

<p>Default transaction manager implementation may be substituted in guice module:</p>
<div class="codehilite"><pre><span></span><span class="n">bind</span><span class="o">(</span><span class="n">TransactionalManager</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">to</span><span class="o">(</span><span class="n">MyTransactionalManager</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</pre></div>

<p>When <code>@Transactional</code> annotation used, transaction type may be defined with <code>@TxType</code> annotation (but in most cases it is not required).</p>
<h2 id="connection-provider">Connection provider<a class="headerlink" href="#connection-provider" title="Permanent link">&para;</a></h2>
<p>Connection could be acquired only inside transaction (unit of work).</p>
<p>Possible connection objects:</p>
<ul>
<li><code>Provider&lt;OObjectDatabaseTx&gt;</code> for object database connection</li>
<li><code>Provider&lt;ODatabaseDocumentTx&gt;</code> for document database connection</li>
<li><code>Provider&lt;OrientBaseGraph&gt;</code> for graph database connection (transactional or not)</li>
<li><code>Provider&lt;OrientGraph&gt;</code> for transactional graph database connection (will fail if notx transaction type)</li>
<li><code>Provider&lt;OrientGraphNoTx&gt;</code> for non transactional graph database connection (will provide only for notx transaction type, otherwise fail)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can't use both <code>OrientGraph</code> and <code>OrientGraphNoTx</code> in the same transaction (type must be used according to transaction type).
<code>OrientBaseGraph</code> may be used in places where both types are possible (its the base class for both).</p>
</div>
<p>Connection provider logic is implemented in <a href="../guide/connections/#pools">pools</a> (<code>PoolManager</code>). Pool is registered for each connection type (document, object, graph).</p>
<p>Connection instance is thread bound, so you may be sure that every time <code>provider.get()</code> returns same connection object instance (within transaction).</p>
<h2 id="transaction-templates">Transaction templates<a class="headerlink" href="#transaction-templates" title="Permanent link">&para;</a></h2>
<p>Transaction template abstract work with transaction manager (begin/commit/rollback staff).</p>
<p><code>TxTemplate</code> is the core transaction abstraction, used by all other api (<code>@Transactional</code> annotation, <code>SpecificTxTemplate</code>).</p>
<p>Sample usage:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Inject</span> <span class="n">TxTemplate</span><span class="o">&lt;</span><span class="n">OObjectDatabaseTx</span><span class="o">&gt;</span> <span class="n">template</span><span class="o">;</span>

<span class="o">...</span>
<span class="n">template</span><span class="o">.</span><span class="na">doInTransaction</span><span class="o">(</span><span class="k">new</span> <span class="n">TxAction</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Void</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Throwable</span> <span class="o">{</span>
            <span class="c1">// something</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">});</span>
</pre></div>

<p>Custom transaction config:</p>
<div class="codehilite"><pre><span></span><span class="n">template</span><span class="o">.</span><span class="na">doInTransaction</span><span class="o">(</span><span class="k">new</span> <span class="n">TxConfig</span><span class="o">(</span><span class="n">OTransaction</span><span class="o">.</span><span class="na">TXTYPE</span><span class="o">.</span><span class="na">NOTX</span><span class="o">),</span> <span class="k">new</span> <span class="n">TxAction</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Void</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Throwable</span> <span class="o">{</span>
            <span class="c1">// something</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">});</span>
</pre></div>

<p>If template is used inside transaction, it's config is ignored.</p>
<p><code>SpecificTxTemplate</code> is <code>TxTemplate</code> but with connection object in callback (to avoid calling connection provider inside callback).</p>
<p>For example:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Inject</span> <span class="n">SpecificTxTemplate</span><span class="o">&lt;</span><span class="n">OObjectDatabaseTx</span><span class="o">&gt;</span> <span class="n">specificTxTemplate</span><span class="o">;</span>
<span class="o">...</span>
<span class="n">specificTxTemplate</span><span class="o">.</span><span class="na">doInTransaction</span><span class="o">(</span><span class="k">new</span> <span class="n">SpecificTxAction</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">,</span> <span class="n">OObjectDatabaseTx</span><span class="o">&gt;()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Object</span> <span class="nf">execute</span><span class="o">(</span><span class="n">OObjectDatabaseTx</span> <span class="n">db</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Throwable</span> <span class="o">{</span>
            <span class="c1">// something</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">})</span>
</pre></div>

<p>It also may be called with custom transaction config.</p>
<p><code>TxConfig</code> may also configure exception types which will not prevent commit or which should trigger rollback (see guice-persist <code>@Transactional</code> annotation javadoc for more details).</p>
<h2 id="user-manager">User manager<a class="headerlink" href="#user-manager" title="Permanent link">&para;</a></h2>
<p><code>UserManager</code> allows you to change connection user. Change may be performed outside of transaction (to affect multiple transactions) or inside transaction (e.g. to check orient security).</p>
<p>To change user for multiple transactions:</p>
<div class="codehilite"><pre><span></span><span class="n">userManager</span><span class="o">.</span><span class="na">executeWithUser</span><span class="o">(</span><span class="err">&#39;</span><span class="n">user</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">password</span><span class="err">&#39;</span><span class="o">,</span> <span class="k">new</span> <span class="n">SpecificUserAction</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Void</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Throwable</span> <span class="o">{</span>
        <span class="c1">// do work</span>
    <span class="o">}</span>
<span class="o">})</span>
</pre></div>

<p><code>SpecificUserAction</code> defines scope of user overriding. This will not implicitly start transaction, but simply
binds different user to current thread.</p>
<p>Overriding may be used in scheme initialization to use more powerful user or to use <a href="http://orientdb.com/docs/last/Security.html">orient security model</a>
(in this case overriding may be done, for example in servlet filter).</p>
<p>Nested user override is not allowed (to avoid confusion). But you can use user overriding inside transaction.</p>
<h3 id="transaction-user">Transaction user<a class="headerlink" href="#transaction-user" title="Permanent link">&para;</a></h3>
<p>To change user inside transaction:</p>
<div class="codehilite"><pre><span></span><span class="n">userManager</span><span class="o">.</span><span class="na">executeWithTxUser</span><span class="o">(</span><span class="err">&#39;</span><span class="n">user</span><span class="err">&#39;</span><span class="o">,</span> <span class="k">new</span> <span class="n">SpecificUserAction</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Void</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Throwable</span> <span class="o">{</span>
        <span class="c1">// do work</span>
    <span class="o">}</span>
<span class="o">})</span>
</pre></div>

<p>Must be called inside transaction. Changes user inside current connection using <code>ODatabase.setUser(user)</code> api.
This change will affect security checks (probably the most common use case).
Nested user override is not allowed (for simplicity).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>PersistentContext</code> provides shortcut only for changing user inside transaction.</p>
</div>
<h2 id="database-manager">Database manager<a class="headerlink" href="#database-manager" title="Permanent link">&para;</a></h2>
<p>Database manager is responsible for lifecycle (start/stop) and pools management.</p>
<p>The only useful methods:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Inject</span> <span class="n">DatabaseManager</span> <span class="n">dbManager</span><span class="o">;</span>
<span class="o">...</span>
<span class="c1">// check if database type supported</span>
<span class="n">dbManager</span><span class="o">.</span><span class="na">isTypeSupported</span><span class="o">(</span><span class="n">DbType</span><span class="o">.</span><span class="na">OBJECT</span><span class="o">)</span>
<span class="c1">// all supported types</span>
<span class="n">dbManager</span><span class="o">.</span><span class="na">getSupportedTypes</span><span class="o">()</span>
</pre></div>

<p>Database types support is driven by classpath (e.g. if orient-graph dependency is not available, no graph db support will be in runtime).</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../getting-started/" title="Getting started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting started
              </span>
            </div>
          </a>
        
        
          <a href="../guide/configuration/" title="Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Configuration
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014-2018 Vyacheslav Rusakov
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/xvik" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/vyarus" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>